import { GoogleGenerativeAI } from "@google/generative-ai";

  
  const apiKey = import.meta.env.VITE_GOOGLE_GEMINI_AI_API_KEY;
  const genAI = new GoogleGenerativeAI(apiKey);
  
  const model = genAI.getGenerativeModel({
    model: "gemini-1.5-flash",
  });
  
  const generationConfig = {
    temperature: 1,
    topP: 0.95,
    topK: 64,
    maxOutputTokens: 8192,
    responseMimeType: "application/json",
  };
  
    export const chatSession = model.startChat({
      generationConfig,
      history: [
        {
          role: "user",
          parts: [
            {text: "Generate Travel Plan for location: Las Vegas for 3 Days for Couple with a Cheap Budget, Give me a Hotel options list with HotelName, Hotel Address, Price, hotel image url, geo coordinates, rating , descriptions and suggest itinerary with Place name , place details, Place image Url, Geo Coordinates, ticket pricing ,rating. Time travel each of the location for 3 Days with each day plan and best time to visit in JSON format."},
          ],
        },
        {
          role: "model",
          parts: [
            {text: 
              "```json\n{\n  \"hotelOptions\": [\n    {\n    \"hotelName\": \"The D Las Vegas\",\n      \"hotelAddress\": \"301 Fremont Street, Las Vegas, NV 89101\",\n      \"price\": \"$60-$100/night\",\n      \"hotelImageUrl\": \"https://images.trvl-media.com/media/content/expedia/hotel-photos/3330000/3330300/3330335/3330335_1525203.jpg\",\n      \"geoCoordinates\": \"36.1699, -115.1425\",\n      \"rating\": 4.0,\n      \"description\": \"A downtown casino hotel with a retro vibe, offering affordable rooms, a lively casino, and several dining options.\"\n    },\n    {\n      \"hotelName\": \"Circus Circus Hotel & Casino\",\n      \"hotelAddress\": \"2880 Las Vegas Blvd S, Las Vegas, NV 89109\",\n      \"price\": \"$50-$80/night\",\n      \"hotelImageUrl\": \"https://media.timeout.com/images/105232670/image.jpg\",\n      \"geoCoordinates\": \"36.1201, -115.1736\",\n      \"rating\": 3.5,\n      \"description\": \"A classic Vegas hotel with a circus theme, known for its affordable rates, family-friendly attractions, and a large casino.\"\n    },\n    {\n      \"hotelName\": \"Golden Nugget Las Vegas\",\n      \"hotelAddress\": \"129 E Fremont St, Las Vegas, NV 89101\",\n      \"price\": \"$70-$120/night\",\n      \"hotelImageUrl\": \"https://media.timeout.com/images/105231612/image.jpg\",\n      \"geoCoordinates\": \"36.1693, -115.1426\",\n      \"rating\": 4.5,\n      \"description\": \"A luxury hotel in downtown Las Vegas, featuring a famous shark tank, a large casino, and multiple dining and entertainment options.\"\n    }\n  ],\n  \"itinerary\": {\n    \"day1\": {\n      \"morning\": {\n        \"placeName\": \"Fremont Street Experience\",\n        \"placeDetails\": \"A pedestrian-only street in downtown Las Vegas, featuring a massive canopy with light shows and live entertainment.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/4/4f/Fremont_Street_Experience_2016.jpg/1280px-Fremont_Street_Experience_2016.jpg\",\n        \"geoCoordinates\": \"36.1697, -115.1424\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"time\": \"9:00 AM - 12:00 PM\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Neon Museum\",\n        \"placeDetails\": \"A museum showcasing a collection of historic neon signs from Las Vegas.\",\n        \"placeImageUrl\": \"https://www.neonmuseum.org/wp-content/uploads/2016/12/NeonMuseum_SunsetStrip_0032_WEB.jpg\",\n        \"geoCoordinates\": \"36.1713, -115.1364\",\n        \"ticketPricing\": \"$20\",\n        \"rating\": 4.0,\n        \"time\": \"1:00 PM - 4:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"The Strip\",\n        \"placeDetails\": \"The famous boulevard lined with casinos, hotels, and entertainment venues.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/Las_Vegas_Strip_Night_2009.jpg/1280px-Las_Vegas_Strip_Night_2009.jpg\",\n        \"geoCoordinates\": \"36.1146, -115.1729\",\n        \"ticketPricing\": \"Free (entry to casinos)\",\n        \"rating\": 5.0,\n        \"time\": \"6:00 PM - 10:00 PM\"\n      }\n    },\n    \"day2\": {\n      \"morning\": {\n        \"placeName\": \"Hoover Dam\",\n        \"placeDetails\": \"A historic dam on the Colorado River, a short drive from Las Vegas.\",\n        \"placeImageUrl\": \"https://www.nps.gov/media/photo/legacy/16/27/1037739.jpg\",\n        \"geoCoordinates\": \"36.0085, -114.9111\",\n        \"ticketPricing\": \"$30\",\n        \"rating\": 4.5,\n        \"time\": \"9:00 AM - 12:00 PM\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Red Rock Canyon National Conservation Area\",\n        \"placeDetails\": \"A scenic desert landscape with hiking trails and rock formations.\",\n        \"placeImageUrl\": \"https://www.nps.gov/media/photo/legacy/16/27/1037741.jpg\",\n        \"geoCoordinates\": \"36.1481, -115.3354\",\n        \"ticketPricing\": \"$15 per vehicle\",\n        \"rating\": 4.0,\n        \"time\": \"1:00 PM - 4:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Bellagio Fountains\",\n        \"placeDetails\": \"A spectacular water and light show in front of the Bellagio hotel.\" ,\n        \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/gallery_hero/public/2021-07/bellagio-fountains.jpg?itok=n74b07Q-\",\n        \"geoCoordinates\": \"36.1105, -115.1733\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.5,\n        \"time\": \"7:00 PM - 9:00 PM\"\n      }\n    },\n    \"day3\": {\n      \"morning\": {\n        \"placeName\": \"The LINQ Promenade\",\n        \"placeDetails\": \"An outdoor shopping and dining area with the High Roller observation wheel.\",\n        \"placeImageUrl\": \"https://upload.wikimedia.org/wikipedia/commons/thumb/3/3e/LINQ_Promenade_2015.jpg/1280px-LINQ_Promenade_2015.jpg\",\n        \"geoCoordinates\": \"36.1087, -115.1717\",\n        \"ticketPricing\": \"High Roller: $30\",\n        \"rating\": 4.0,\n        \"time\": \"10:00 AM - 1:00 PM\"\n      },\n      \"afternoon\": {\n        \"placeName\": \"Stratosphere Tower\",\n        \"placeDetails\": \"A tall tower with thrilling rides, an observation deck, and a restaurant.\",\n        \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/gallery_hero/public/2019-08/stratosphere-tower-las-vegas.jpg?itok=N1m6b43b\",\n        \"geoCoordinates\": \"36.1272, -115.1746\",\n        \"ticketPricing\": \"Observation deck: $20\",\n        \"rating\": 3.5,\n        \"time\": \"2:00 PM - 5:00 PM\"\n      },\n      \"evening\": {\n        \"placeName\": \"Free show on the Strip\",\n        \"placeDetails\": \"Many casinos offer free shows on the Strip, such as the fountain show at the Bellagio or the volcano eruption at the Mirage.\",\n        \"placeImageUrl\": \"https://www.visitlasvegas.com/sites/default/files/styles/gallery_hero/public/2021-07/bellagio-fountains.jpg?itok=n74b07Q-\",\n        \"geoCoordinates\": \"36.1146, -115.1729\",\n        \"ticketPricing\": \"Free\",\n        \"rating\": 4.0,\n        \"time\": \"7:00 PM - 10:00 PM\"\n      }\n    }\n  },\n  \"bestTimeToVisit\": \"Spring (March-May) and Fall (September-November) for pleasant weather and fewer crowds. Avoid the summer heat (June-August) and the busy holiday season (December-January).\"\n}\n```\n\n**Notes:**\n\n* This itinerary focuses on free and budget-friendly attractions.\n* You can easily adjust the itinerary based on your interests and preferences.\n* For transportation, consider using the Las Vegas Monorail or walking to save money.\n* Prices are estimates and may vary depending on the season and availability.\n* Be sure to check the official websites for the latest information and ticket prices.\n* Enjoy your trip! \n"},
          ],
        },
      ],
    });
  